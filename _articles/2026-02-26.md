---
title: "cv-builder closes issue #94, daily-logger gets a council review pipeline, and shell gets Claude Code"
date: 2026-02-26
tags: ["cv-builder", "visual-regression", "daily-logger", "pipeline", "ci-cd", "shell"]
summary: "Issue #94 closes with Pages-first data fetch and run selector; daily-logger ships a 4-phase council review pipeline with independent persona critiques."
---

Yesterday the shell repo got its first application code. Today the focus shifted to two things running in parallel: closing the remaining gap in cv-builder's visual regression loop, and making daily-logger's article generation meaningfully better. Both shipped.

## What shipped

**cv-builder — issue #94 closed (PR #97):** The visual regression pipeline had three independent failure modes that PR #93 didn't fully address. PR #97 fixes all three. The core change is `feat(dashboard): Pages-first data fetch + run selector` — `CanvasRunNavigator` now fetches `runs-index.json` from GitHub Pages rather than directly from S3. S3 returns stale cached data without proper cache invalidation; Pages serves the artifact baked at deploy time. That single routing change fixes the "December 13 data" bug that made the dashboard show outdated run history.

The second part of PR #97 rewrites the PR comment format as accordions. Before: a flat wall of screenshot comparisons in every PR. After: collapsible sections per screenshot, with per-screenshot comparison data baked into `pipeline-result.json` by `feat(ci-pipeline): add per-screenshot comparison data`. The run selector means you can navigate historical runs from the dashboard without navigating away.

This closes issue #94 and brings Phase 6 from ~70% to complete.

**daily-logger — council review pipeline (PR #1):** The article generation pipeline grew from a single draft call to four phases: collect → draft → council review → synthesize. Each `personas/*.md` file describes an independent critic — a different editorial lens on the draft. Every persona runs independently against the draft. A synthesis call takes all critiques and produces the final article. The commit message calls it a "4-phase article pipeline" and that's accurate: this article was generated through it.

This is the same pattern cv-builder uses for its multi-agent resume pipeline — Orchestrator routes to specialized agents, each does focused work, outputs are combined. The difference is that daily-logger's council is purely editorial. The personas don't need tool access or state; they read and react.

Also shipped in daily-logger: `fix: migrate articles/ to _articles/ and harden Jekyll config` — the directory rename that stops Jekyll from trying to process article source files as pages. A quiet fix that unblocked the GitHub Pages deploy.

**shell + node-template + purefoy — Claude Code GitHub workflows:** All three repos received the Claude Code GitHub App workflow in the same batch. This is the same workflow already running in cv-builder, where it's actively producing output — for example, `docs(blog): add blog post proposal for PR #97` in today's commits was auto-generated by it. The goal is a consistent review toolchain across every repo before `@ojfbot/shell` extraction begins.

## The decisions

**Pages-first fetch is architecturally correct, not a workaround.** The alternative is to fix S3 caching with `Cache-Control` headers or signed URL expiry. We chose not to because the problem isn't cache configuration — it's that the dashboard was fetching from the wrong source of truth. The CI pipeline bakes `runs-index.json` into the Pages deploy as part of the same workflow that updates S3. Pages is the authoritative artifact store for the dashboard. S3 is the raw storage layer. Reading from Pages rather than S3 directly is the correct separation. This decision doesn't have a written ADR yet; it should. If someone joins in six months and asks why we read from Pages instead of S3, the answer needs to live somewhere more permanent than a blog post.

**Independent persona critique over sequential is the more interesting decision.** Sequential critique means each persona sees the previous one's output and anchors to it. Independent critique means you get genuinely divergent perspectives that the synthesis step has to reconcile. The synthesis call is the architecturally significant piece: it receives N critiques and has to decide which to incorporate, which to discount, and how to weight conflicts. Getting that synthesis prompt wrong produces an article that averages the critiques rather than improving on the draft. The current approach instructs the synthesis call to treat critiques as signals, not directives — it can and does ignore a persona when the critique doesn't hold up against the draft's actual content.

What the synthesis step gets wrong today: it occasionally over-indexes on the most structurally verbose critique rather than the most substantively correct one. That's a prompt engineering problem, not an architecture problem, and it's the active failure mode to fix in the next iteration.

The council size is currently small — exact persona count is a tunable parameter — but the economic constraint is real. Each additional persona is an additional LLM call. Doubling the council doubles that portion of the per-run cost. The synthesis call's token count also grows with the number of critiques it receives. That ceiling matters before council size scales.

**The multi-repo Claude Code workflow rollout is not yet fleet-managed.** The same YAML was added to four repos in a batch. That's the honest description of where this is. The story worth telling — a single canonical workflow definition consumed by all repos, with a documented update propagation policy — isn't the story yet. It's the target state. When a workflow update is needed, the current approach requires touching each repo individually. That's the gap.

## Roadmap pulse

**Phase 6 is done.** PR #97 closes issue #94, which was the last open item. The visual regression pipeline now has: Playwright screenshot capture → pixelmatch diff → draw.io canvas with embedded thumbnails → S3 raw storage → Pages-baked index → dashboard with run selector and history → accordion PR comments with per-screenshot data. This is the eval loop that threads Samir Mody's Pillar 2 ("Tooling for iteration" — prompts and evals as versioned artifacts) from the ojfbot roadmap. The dashboard is live at the cv-builder GitHub Pages URL; the accordion PR comment format is visible on PR #97 itself.

**Phase 9 is active.** Daily-logger publishing to BlogEngine is the stated goal. BlogEngine is an internal application in the ojfbot suite — one of the apps ShellAgent orchestrates — with an API the publishing pipeline will POST to. The council review pipeline is a prerequisite: a single-pass draft shouldn't go to production. The pipeline architecture is now in place. What's missing is the BlogEngine integration layer — the publish step that takes the synthesized article and delivers it via that API.

**Shell extraction is the baseline work.** The `@ojfbot/shell` extraction means pulling the shared scaffolding that all ojfbot repos currently duplicate — the node-template conventions, shared workflows, common configuration — into a single consumable package. The Claude Code workflow addition to shell, node-template, and purefoy is Phase 1 of that work: getting every repo to a consistent toolchain baseline. What unblocks extraction is that baseline being stable. What extraction unlocks is the ability to update shared infrastructure once and have it propagate, rather than the current approach of touching each repo individually.

## What's next

Phase 6 being complete means the next concrete action is opening one issue: `feat: add variant flag to baseline pipeline`. The product case is direct — the same CI infrastructure that now captures and diffs screenshots can serve as an A/B testing foundation for cv-builder's resume rendering variants. The visual regression loop already answers "did this change break anything"; the variant flag makes it answer "which of these two approaches renders better." That's a qualitatively different eval capability, and it's the next thing the cv-builder pipeline needs before Phase 7 scope expands further.

Before that issue is opened, the run economics need a baseline measurement. Adding a variant flag increases run frequency. What a single current run costs — in compute and in LLM calls if any are involved — should be documented before the pipeline is asked to do more.

---

*Generated by [daily-logger](https://github.com/ojfbot/daily-logger) — part of the ojfbot self-documenting development system.*
